{% extends 'base/base.html' %}

{% block title %}{% if object %}Editar{% else %}Nova{% endif %} Carga - TruK{% endblock %}

{% block content %}
<!-- Page Header -->
<div class="page-header">
    <div>
        <h1 class="page-title">{% if object %}Editar Carga{% else %}Registrar Nova Carga{% endif %}</h1>
        <p class="text-secondary" style="margin-top: var(--space-2);">
            Preencha os dados da carga abaixo
        </p>
    </div>
    <div class="page-actions">
        <a href="{% url 'loads:list' %}" class="btn btn-ghost">
            ‚Üê Voltar
        </a>
    </div>
</div>

<!-- Form Card -->
<div class="card">
    <form method="post" enctype="multipart/form-data" class="load-form">
        {% csrf_token %}
        
        <div class="card-body">
            <!-- Origem e Destino -->
            <div class="form-fieldset">
                <legend>üìç Origem e Destino</legend>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.origem_cidade.id_for_label }}" class="form-label required">Cidade de Origem</label>
                        {{ form.origem_cidade }}
                        {% if form.origem_cidade.errors %}
                        <span class="form-text is-invalid">{{ form.origem_cidade.errors.0 }}</span>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.origem_pais.id_for_label }}" class="form-label required">Pa√≠s de Origem</label>
                        {{ form.origem_pais }}
                        {% if form.origem_pais.errors %}
                        <span class="form-text is-invalid">{{ form.origem_pais.errors.0 }}</span>
                        {% endif %}
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.destino_cidade.id_for_label }}" class="form-label required">Cidade de Destino</label>
                        {{ form.destino_cidade }}
                        {% if form.destino_cidade.errors %}
                        <span class="form-text is-invalid">{{ form.destino_cidade.errors.0 }}</span>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.destino_pais.id_for_label }}" class="form-label required">Pa√≠s de Destino</label>
                        {{ form.destino_pais }}
                        {% if form.destino_pais.errors %}
                        <span class="form-text is-invalid">{{ form.destino_pais.errors.0 }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Informa√ß√µes da Carga -->
            <div class="form-fieldset">
                <legend>üì¶ Informa√ß√µes da Carga</legend>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.tipo_carga.id_for_label }}" class="form-label required">Tipo de Carga</label>
                        {{ form.tipo_carga }}
                        {% if form.tipo_carga.errors %}
                        <span class="form-text is-invalid">{{ form.tipo_carga.errors.0 }}</span>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.tipo_trailer.id_for_label }}" class="form-label">Tipo de Trailer</label>
                        {{ form.tipo_trailer }}
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="{{ form.peso_toneladas.id_for_label }}" class="form-label">Peso (toneladas)</label>
                    {{ form.peso_toneladas }}
                </div>
            </div>
            
            <!-- Dist√¢ncia e Pagamento -->
            <div class="form-fieldset">
                <legend>üí∞ Dist√¢ncia e Pagamento</legend>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.distancia_km.id_for_label }}" class="form-label required">Dist√¢ncia (km)</label>
                        {{ form.distancia_km }}
                        {% if form.distancia_km.errors %}
                        <span class="form-text is-invalid">{{ form.distancia_km.errors.0 }}</span>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.pagamento_eur.id_for_label }}" class="form-label required">Pagamento (‚Ç¨)</label>
                        {{ form.pagamento_eur }}
                        {% if form.pagamento_eur.errors %}
                        <span class="form-text is-invalid">{{ form.pagamento_eur.errors.0 }}</span>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Detalhes da Viagem -->
            <div class="form-fieldset">
                <legend>üöö Detalhes da Viagem</legend>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.combustivel_litros.id_for_label }}" class="form-label">Combust√≠vel (litros)</label>
                        {{ form.combustivel_litros }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.tempo_viagem.id_for_label }}" class="form-label">Tempo de Viagem (HH:MM:SS)</label>
                        {{ form.tempo_viagem }}
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.dano_percentual.id_for_label }}" class="form-label">Dano (%)</label>
                        {{ form.dano_percentual }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.multas.id_for_label }}" class="form-label">Multas (‚Ç¨)</label>
                        {{ form.multas }}
                    </div>
                </div>
            </div>
            
            <!-- Status e Extras -->
            <div class="form-fieldset">
                <legend>‚öôÔ∏è Status e Extras</legend>
                
                <div class="form-group">
                    <label for="{{ form.status.id_for_label }}" class="form-label">Status</label>
                    {{ form.status }}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.screenshot.id_for_label }}" class="form-label">Screenshot</label>
                    {{ form.screenshot }}
                    <span class="form-text">Fa√ßa upload de uma captura de tela da carga (opcional)</span>
                </div>
                
                <div class="form-group">
                    <label for="{{ form.notas.id_for_label }}" class="form-label">Notas</label>
                    {{ form.notas }}
                </div>
            </div>
        </div>
        
        <div class="card-footer" style="display: flex; gap: var(--space-3); justify-content: flex-end;">
            <a href="{% url 'loads:list' %}" class="btn btn-ghost">
                Cancelar
            </a>
            <button type="submit" class="btn btn-primary">
                {% if object %}‚úì Atualizar Carga{% else %}‚úì Registrar Carga{% endif %}
            </button>
        </div>
    </form>
</div>

<style>
/* Form widget styling */
.load-form input[type="text"],
.load-form input[type="number"],
.load-form input[type="file"],
.load-form select,
.load-form tex
